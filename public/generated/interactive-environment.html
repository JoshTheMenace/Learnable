<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Environment</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #f0f0f0;
        }
        canvas {
            border: 4px solid #333;
            background: white;
        }
    </style>
</head>
<body>
    <h2>ðŸŽ® Interactive Visualization</h2>
    <div id="p5-container"></div>

    <script>
        // Rock Types Classification Interactive Demo
// Three main rock types: Igneous, Sedimentary, Metamorphic

let rocks = [];
let selectedRock = null;
let infoBoxVisible = false;

function setup() {
  createCanvas(800, 600);
  
  // Create rock objects with their properties
  rocks.push({
    type: "Igneous",
    x: 150,
    y: 200,
    size: 80,
    color: color(200, 100, 100), // Reddish color for igneous
    formation: "Formed when molten rock (magma or lava) cools and solidifies",
    characteristics: "â€¢ Hard and crystalline\nâ€¢ No fossils\nâ€¢ Often found near volcanoes\nâ€¢ Examples: granite, basalt",
    examples: "Granite, Basalt, Obsidian, Pumice",
    texture: "Crystalline structure"
  });
  
  rocks.push({
    type: "Sedimentary",
    x: 400,
    y: 200,
    size: 80,
    color: color(180, 160, 120), // Brownish color for sedimentary
    formation: "Formed when sediments (sand, mud, organic matter) are compressed and cemented together over time",
    characteristics: "â€¢ Layered appearance\nâ€¢ May contain fossils\nâ€¢ Formed at or near Earth's surface\nâ€¢ Examples: limestone, sandstone",
    examples: "Limestone, Sandstone, Shale, Coal",
    texture: "Layered or grainy structure"
  });
  
  rocks.push({
    type: "Metamorphic",
    x: 650,
    y: 200,
    size: 80,
    color: color(120, 120, 180), // Bluish color for metamorphic
    formation: "Formed when existing rocks are transformed by heat, pressure, or chemical processes",
    characteristics: "â€¢ Often have bands or layers\nâ€¢ May show foliation\nâ€¢ Formed deep underground\nâ€¢ Examples: marble, slate, gneiss",
    examples: "Marble, Slate, Gneiss, Schist",
    texture: "Banded or foliated structure"
  });
}

function draw() {
  background(240);
  
  // Draw title
  fill(0);
  textSize(32);
  textAlign(CENTER);
  text("Rock Types Classification", width/2, 50);
  
  // Draw instructions
  textSize(16);
  text("Click on a rock to learn more about it!", width/2, 80);
  
  // Draw each rock type
  for (let i = 0; i < rocks.length; i++) {
    let rock = rocks[i];
    
    // Draw rock circle
    fill(rock.color);
    stroke(0);
    strokeWeight(2);
    ellipse(rock.x, rock.y, rock.size);
    
    // Draw rock type label
    fill(0);
    textSize(18);
    textAlign(CENTER);
    text(rock.type, rock.x, rock.y + rock.size/2 + 25);
    
    // Draw hover effect
    if (dist(mouseX, mouseY, rock.x, rock.y) < rock.size/2) {
      strokeWeight(4);
      noFill();
      ellipse(rock.x, rock.y, rock.size + 10);
    }
  }
  
  // Draw info box if a rock is selected
  if (infoBoxVisible && selectedRock) {
    drawInfoBox();
  }
  
  // Draw legend
  drawLegend();
}

function drawInfoBox() {
  // Draw info box background
  fill(255);
  stroke(0);
  strokeWeight(2);
  rect(100, 350, 600, 200, 10);
  
  // Draw rock type title
  fill(selectedRock.color);
  textSize(24);
  textAlign(LEFT);
  text(selectedRock.type + " Rocks", 120, 380);
  
  // Draw formation info
  fill(0);
  textSize(16);
  text("Formation: " + selectedRock.formation, 120, 410, 560, 50);
  
  // Draw characteristics
  text("Characteristics:", 120, 450);
  text(selectedRock.characteristics, 140, 470, 560, 80);
  
  // Draw examples
  text("Examples: " + selectedRock.examples, 120, 530);
  
  // Draw close button
  fill(200, 50, 50);
  rect(670, 360, 20, 20, 5);
  fill(255);
  textSize(18);
  text("X", 680, 375);
}

function drawLegend() {
  // Draw legend box
  fill(255, 200);
  stroke(0);
  strokeWeight(1);
  rect(20, 20, 200, 100, 5);
  
  // Draw legend title
  fill(0);
  textSize(16);
  textAlign(LEFT);
  text("Rock Types Legend:", 30, 40);
  
  // Draw legend items
  fill(200, 100, 100);
  ellipse(40, 60, 15);
  fill(0);
  textSize(14);
  text("Igneous", 55, 65);
  
  fill(180, 160, 120);
  ellipse(40, 80, 15);
  fill(0);
  text("Sedimentary", 55, 85);
  
  fill(120, 120, 180);
  ellipse(40, 100, 15);
  fill(0);
  text("Metamorphic", 55, 105);
}

function mousePressed() {
  // Check if close button was clicked
  if (infoBoxVisible && mouseX > 670 && mouseX < 690 && mouseY > 360 && mouseY < 380) {
    infoBoxVisible = false;
    selectedRock = null;
    return;
  }
  
  // Check if any rock was clicked
  for (let i = 0; i < rocks.length; i++) {
    let rock = rocks[i];
    if (dist(mouseX, mouseY, rock.x, rock.y) < rock.size/2) {
      selectedRock = rock;
      infoBoxVisible = true;
      return;
    }
  }
  
  // If clicked outside rocks and info box is visible, close it
  if (infoBoxVisible && 
      (mouseX < 100 || mouseX > 700 || mouseY < 350 || mouseY > 550)) {
    infoBoxVisible = false;
    selectedRock = null;
  }
}

function keyPressed() {
  // Press 'R' to reset selection
  if (key === 'r' || key === 'R') {
    infoBoxVisible = false;
    selectedRock = null;
  }
  
  // Press '1', '2', or '3' to select rock types
  if (key === '1') {
    selectedRock = rocks[0];
    infoBoxVisible = true;
  } else if (key === '2') {
    selectedRock = rocks[1];
    infoBoxVisible = true;
  } else if (key === '3') {
    selectedRock = rocks[2];
    infoBoxVisible = true;
  }
}
    </script>
</body>
</html>